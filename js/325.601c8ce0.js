"use strict";(globalThis["webpackChunkmyhealth"]=globalThis["webpackChunkmyhealth"]||[]).push([[325],{1009:(e,l,a)=>{a.d(l,{s:()=>o});var t=a(705);const o=(0,t.nY)("userAuth",{state:()=>({user:{id:"",role:"",patients:[]}}),getters:{getData:e=>e.user},actions:{logout(){localStorage.clear()},setData(e){this.$state.user={id:e.id??"",role:e.role??"",patients:e.patients??[]}}}})},1325:(e,l,a)=>{a.r(l),a.d(l,{default:()=>R});var t=a(1347),o=a(4187),u=a(3031),r=a(1009),s=a(144),d=a(9667);const n={class:"q-pa-md q-gutter-md"},i=(0,t.pM)({__name:"labResultPage",setup(e){const l=new Date,a=(0,r.s)(),i=(0,o.KR)({id:"",role:"",patients:[""]}),c=(0,o.KR)(),p=(0,o.KR)([]),b=[{name:"type",label:"Type of test",align:"left",field:"type",sortable:!0},{name:"test",label:"Test",align:"left",field:"test",sortable:!0},{name:"result_text",label:"Text result",align:"left",field:"result_text"},{name:"result_numeric",label:"Result",align:"left",field:"result_numeric"},{name:"unit",label:"Unit",align:"left",field:"unit"},{name:"date_released",label:"Date Released",align:"left",field:"date_released"}],m=(0,o.KR)(!1),g=(0,o.KR)({id:"",type:"",test:"",result_text:"",result_numeric:0,unit:"",date_released:(0,o.KR)(l)});async function v(){if(i.value){const{data:e,error:l}=await u.supabase.from("LaboratoryResults").select("*").eq("id",i.value.id);l?console.log("LaboratoryResults",l):(p.value=e,console.log("LaboratoryResults",p))}}async function f(){if(s.A.create({spinner:d.A,message:"Working...",position:"top",timeout:1e3}),i.value){g.value.id=i.value.id;const{error:e}=await u.supabase.from("LaboratoryResults").insert(g.value);e?s.A.create({color:"negative",message:"Danger can't add record",position:"top"}):(s.A.create({color:"posteal",message:"Added new medication record",position:"top"}),_(),await v())}else s.A.create({message:"Kindly logout and relogin",position:"top"})}function _(){g.value.type="",g.value.test="",g.value.result_text="",g.value.result_numeric=0,g.value.unit=""}return(0,t.sV)(async()=>{i.value=a.getData,await v()}),(e,l)=>{const a=(0,t.g2)("q-card-section"),o=(0,t.g2)("q-icon"),u=(0,t.g2)("q-input"),r=(0,t.g2)("q-btn"),s=(0,t.g2)("q-table"),d=(0,t.g2)("q-date"),i=(0,t.g2)("q-card-actions"),v=(0,t.g2)("q-card"),_=(0,t.g2)("q-dialog"),h=(0,t.g2)("q-page"),y=(0,t.gN)("close-popup");return(0,t.uX)(),(0,t.Wv)(h,null,{default:(0,t.k6)(()=>[(0,t.Lk)("div",n,[(0,t.bF)(v,{bordered:"",class:"col-12"},{default:(0,t.k6)(()=>[(0,t.bF)(a,null,{default:(0,t.k6)(()=>l[9]||(l[9]=[(0,t.Lk)("div",{class:"text-h6"},"Laboratory Results",-1)])),_:1,__:[9]}),(0,t.bF)(a,null,{default:(0,t.k6)(()=>[(0,t.bF)(s,{flat:"",rows:p.value,columns:b,"no-data-label":"I didn't find anything for you",filter:c.value,"rows-per-page-options":[3,6,9,10,0],"row-key":"name",dark:"",color:"primary"},{"top-right":(0,t.k6)(()=>[(0,t.bF)(u,{dark:"",borderless:"",debounce:"300",modelValue:c.value,"onUpdate:modelValue":l[0]||(l[0]=e=>c.value=e),placeholder:"Search"},{append:(0,t.k6)(()=>[(0,t.bF)(o,{name:"search"})]),_:1},8,["modelValue"]),(0,t.bF)(r,{color:"primary",label:"add",onClick:l[1]||(l[1]=e=>m.value=!0)})]),_:1},8,["rows","filter"]),(0,t.bF)(_,{modelValue:m.value,"onUpdate:modelValue":l[8]||(l[8]=e=>m.value=e),persistent:""},{default:(0,t.k6)(()=>[(0,t.bF)(v,{style:{"min-width":"350px"}},{default:(0,t.k6)(()=>[(0,t.bF)(a,{class:"items-center text-dark"},{default:(0,t.k6)(()=>[(0,t.bF)(u,{bordered:"",modelValue:g.value.type,"onUpdate:modelValue":l[2]||(l[2]=e=>g.value.type=e),label:"Type:",placeholder:"(Example CBC, etc..)",rules:[e=>!!e||"This field should not be blank"]},null,8,["modelValue","rules"]),(0,t.bF)(u,{bordered:"",modelValue:g.value.test,"onUpdate:modelValue":l[3]||(l[3]=e=>g.value.test=e),label:"Test:",placeholder:"(Example RBC,WBC, etc ..)",rules:[e=>!!e||"This field should not be blank"]},null,8,["modelValue","rules"]),(0,t.bF)(u,{bordered:"",modelValue:g.value.result_text,"onUpdate:modelValue":l[4]||(l[4]=e=>g.value.result_text=e),label:"Result Text:",placeholder:"(Example Positive/Negative),Optional"},null,8,["modelValue"]),(0,t.bF)(u,{bordered:"",modelValue:g.value.result_numeric,"onUpdate:modelValue":l[5]||(l[5]=e=>g.value.result_numeric=e),label:"Result Numeric:",placeholder:"(Example 5.5),Optional"},null,8,["modelValue"]),(0,t.bF)(u,{bordered:"",modelValue:g.value.unit,"onUpdate:modelValue":l[6]||(l[6]=e=>g.value.unit=e),label:"Unit:",placeholder:"(Example g/dL),Optional"},null,8,["modelValue"]),(0,t.bF)(d,{title:"Date Issued:",subtitle:"Date medication was issued on",modelValue:g.value.date_released,"onUpdate:modelValue":l[7]||(l[7]=e=>g.value.date_released=e)},null,8,["modelValue"])]),_:1}),(0,t.bF)(i,{align:"right"},{default:(0,t.k6)(()=>[(0,t.bo)((0,t.bF)(r,{flat:"",label:"Cancel",color:"primary"},null,512),[[y]]),(0,t.bo)((0,t.bF)(r,{flat:"",label:"Add Laboratory Record",color:"primary",onClick:f},null,512),[[y]])]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1})])]),_:1})}}});var c=a(5013),p=a(3341),b=a(222),m=a(3261),g=a(6067),v=a(3933),f=a(9039),_=a(45),h=a(5626),y=a(5034),k=a(8657),V=a(272),A=a.n(V);const F=i,R=F;A()(i,"components",{QPage:c.A,QCard:p.A,QCardSection:b.A,QTable:m.A,QInput:g.A,QIcon:v.A,QBtn:f.A,QDialog:_.A,QDate:h.A,QCardActions:y.A}),A()(i,"directives",{ClosePopup:k.A})}}]);