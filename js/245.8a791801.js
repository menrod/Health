(globalThis["webpackChunkmyhealth"]=globalThis["webpackChunkmyhealth"]||[]).push([[245],{1009:(e,l,a)=>{"use strict";a.d(l,{s:()=>o});var t=a(705);const o=(0,t.nY)("userAuth",{state:()=>({data:null}),getters:{getData:e=>e.data},actions:{logout(){localStorage.clear()},setData(e){this.$state.data=e}}})},6061:(e,l,a)=>{e.exports=a.p+"img/c00e7421-5a64-4700-8432-a63c9af5f92f.14452d44.png"},9245:(e,l,a)=>{"use strict";a.r(l),a.d(l,{default:()=>L});var t=a(1347),o=a(7763),n=a(4187),i=a(3031),d=a(1009),u=a(891),s=a(144),r=a(9667),c=a(6061),m=a.n(c);const b={class:"q-pa-md q-gutter-md"},p={class:"col-12"},g=["src"],f=(0,t.pM)({__name:"profilePage",setup(e){const l=new Date,a=(0,d.s)(),c=(0,n.KR)(),f=(0,n.KR)({fullname:"",birth_date:"",gender:"",contact_no:""}),v=(0,n.KR)(!1),_=(0,n.KR)(),h=(0,n.KR)([]),k=[{name:"medication",label:"Medication (Generic/Brand Name)",align:"left",field:"medication"},{name:"dose",label:"Dose",align:"left",field:"dose"},{name:"frequency",label:"Frequency",align:"left",field:"frequency"},{name:"timing",label:"Timing",align:"left",field:"timing"},{name:"duration",label:"Duration",align:"left",field:"duration"},{name:"special_instructions",label:"Special Instructions",align:"left",field:"special_instructions"},{name:"date_issued",label:"Date Issued",align:"left",field:"date_issued",sortable:!0}],A=(0,n.KR)({id:"",medication:"",dose:"",frequency:"",timing:"",duration:"",special_instructions:"",date_issued:(0,n.KR)(l)});async function V(){if(c.value){const{data:e,error:l}=await i.supabase.from("Medications").select("*").eq("id",c.value.id);l?console.log("Medication",l):(h.value=e,console.log("Medication",h))}}async function y(){if(s.A.create({spinner:r.A,message:"Working...",position:"top",timeout:1e3}),c.value){A.value.id=c.value.id;const{error:e}=await i.supabase.from("Medications").insert(A.value);e?s.A.create({color:"negative",message:"Danger can't add record",position:"top"}):(s.A.create({color:"posteal",message:"Added new medication record",position:"top"}),F(),await V())}else s.A.create({message:"Kindly logout and relogin",position:"top"})}function F(){A.value.medication="",A.value.dose="",A.value.frequency="",A.value.timing="",A.value.duration="",A.value.special_instructions=""}return(0,t.sV)(async()=>{console.log("Now",u.Ay.formatDate(l,"YYYY/MM/DD"));try{c.value=await a.getData.user??null,console.log("user",c);const{data:e,error:l}=await i.supabase.from("Profile").select("*").eq("id",c.value.id);l?console.log("Profile",l):(f.value.fullname=e[0].last_name+", "+e[0].first_name+" "+e[0].middle_name,f.value.birth_date=e[0].birth_date,f.value.contact_no=e[0].contact_no,f.value.gender=e[0].gender)}catch(e){console.log("Profile",e)}await V()}),(e,l)=>{const a=(0,t.g2)("q-card-section"),i=(0,t.g2)("q-card"),d=(0,t.g2)("q-space"),u=(0,t.g2)("q-icon"),s=(0,t.g2)("q-input"),r=(0,t.g2)("q-btn"),c=(0,t.g2)("q-table"),V=(0,t.g2)("q-date"),F=(0,t.g2)("q-card-actions"),q=(0,t.g2)("q-dialog"),D=(0,t.g2)("q-page"),w=(0,t.gN)("close-popup");return(0,t.uX)(),(0,t.Wv)(D,null,{default:(0,t.k6)(()=>[(0,t.Lk)("div",b,[(0,t.bF)(i,{bordered:"",class:"col-12"},{default:(0,t.k6)(()=>[(0,t.bF)(a,null,{default:(0,t.k6)(()=>l[10]||(l[10]=[(0,t.Lk)("div",{class:"text-h6"},"Patient Details",-1)])),_:1,__:[10]}),(0,t.bF)(a,{class:"q-pt-none"},{default:(0,t.k6)(()=>[(0,t.Lk)("div",null," Name: "+(0,o.v_)(f.value.fullname),1),(0,t.Lk)("div",null," Date of Birth: "+(0,o.v_)(f.value.birth_date),1),(0,t.Lk)("div",null," Gender: "+(0,o.v_)(f.value.gender),1),(0,t.Lk)("div",null," Contact Number: "+(0,o.v_)(f.value.contact_no),1)]),_:1})]),_:1}),(0,t.bF)(d),(0,t.Lk)("div",p,[(0,t.bF)(c,{flat:"",title:"Medications ",rows:h.value,columns:k,"no-data-label":"I didn't find anything for you",filter:_.value,"rows-per-page-options":[3,6,9,10,0],"row-key":"name",dark:"",color:"primary"},{"top-right":(0,t.k6)(()=>[(0,t.bF)(s,{borderless:"",debounce:"300",modelValue:_.value,"onUpdate:modelValue":l[0]||(l[0]=e=>_.value=e),placeholder:"Search"},{append:(0,t.k6)(()=>[(0,t.bF)(u,{name:"search"})]),_:1},8,["modelValue"]),(0,t.bF)(r,{color:"primary",label:"add",onClick:l[1]||(l[1]=e=>v.value=!0)})]),_:1},8,["rows","filter"]),(0,t.bF)(q,{modelValue:v.value,"onUpdate:modelValue":l[9]||(l[9]=e=>v.value=e),persistent:""},{default:(0,t.k6)(()=>[(0,t.bF)(i,{style:{"min-width":"350px"}},{default:(0,t.k6)(()=>[(0,t.bF)(a,{class:"items-center text-dark"},{default:(0,t.k6)(()=>[(0,t.bF)(s,{bordered:"",modelValue:A.value.medication,"onUpdate:modelValue":l[2]||(l[2]=e=>A.value.medication=e),label:"Medications:",placeholder:"(Generic(Brand Name))",rules:[e=>!!e||"This field should not be blank"]},null,8,["modelValue","rules"]),(0,t.bF)(s,{bordered:"",modelValue:A.value.dose,"onUpdate:modelValue":l[3]||(l[3]=e=>A.value.dose=e),label:"Dose:",placeholder:"(1 tablet/capsule)",rules:[e=>!!e||"This field should not be blank"]},null,8,["modelValue","rules"]),(0,t.bF)(s,{bordered:"",modelValue:A.value.frequency,"onUpdate:modelValue":l[4]||(l[4]=e=>A.value.frequency=e),label:"Frequency:",placeholder:"(1 X A DAY)",rules:[e=>!!e||"This field should not be blank"]},null,8,["modelValue","rules"]),(0,t.bF)(s,{bordered:"",modelValue:A.value.timing,"onUpdate:modelValue":l[5]||(l[5]=e=>A.value.timing=e),label:"Timing:",placeholder:"(8AM-2PM-8PM)",rules:[e=>!!e||"This field should not be blank"]},null,8,["modelValue","rules"]),(0,t.bF)(s,{bordered:"",modelValue:A.value.duration,"onUpdate:modelValue":l[6]||(l[6]=e=>A.value.duration=e),label:"Duration:",placeholder:"(Good for 7days/AS NEEDED/MAINTENANCE)",rules:[e=>!!e||"This field should not be blank"]},null,8,["modelValue","rules"]),(0,t.bF)(s,{bordered:"",modelValue:A.value.special_instructions,"onUpdate:modelValue":l[7]||(l[7]=e=>A.value.special_instructions=e),label:"Special Instructions:",placeholder:"(Optional)"},null,8,["modelValue"]),(0,t.bF)(V,{title:"Date Issued:",subtitle:"Date medication was issued on",modelValue:A.value.date_issued,"onUpdate:modelValue":l[8]||(l[8]=e=>A.value.date_issued=e)},null,8,["modelValue"])]),_:1}),(0,t.bF)(F,{align:"right"},{default:(0,t.k6)(()=>[(0,t.bo)((0,t.bF)(r,{flat:"",label:"Cancel",color:"primary"},null,512),[[w]]),(0,t.bo)((0,t.bF)(r,{flat:"",label:"Add Medication Record",color:"primary",onClick:y},null,512),[[w]])]),_:1})]),_:1})]),_:1},8,["modelValue"])]),(0,t.bF)(i,{bordered:"",class:"col-12"},{default:(0,t.k6)(()=>[(0,t.bF)(a,null,{default:(0,t.k6)(()=>l[11]||(l[11]=[(0,t.Lk)("div",{class:"text-h6"},"Latest Admission Details",-1)])),_:1,__:[11]}),(0,t.Lk)("img",{src:(0,n.R1)(m())},null,8,g)]),_:1})])]),_:1})}}});var v=a(5013),_=a(3341),h=a(222),k=a(5873),A=a(3261),V=a(6067),y=a(3933),F=a(9039),q=a(45),D=a(5626),w=a(5034),M=a(8657),C=a(272),Q=a.n(C);const T=f,L=T;Q()(f,"components",{QPage:v.A,QCard:_.A,QCardSection:h.A,QSpace:k.A,QTable:A.A,QInput:V.A,QIcon:y.A,QBtn:F.A,QDialog:q.A,QDate:D.A,QCardActions:w.A}),Q()(f,"directives",{ClosePopup:M.A})}}]);